<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引用連結整理 -->

    <!-- 改變標題圖示連結 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="./my_css.css">
    <!-- 引用動畫效果 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/loadingio/loading.css@v2.0.0/dist/loading.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/loadingio/loading.css@v2.0.0/dist/loading.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <!-- 引用bootstraps -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <!-- 引用自己的js -->
    <script src="./my_js.js" defer></script> <!-- 將 <script> 放在 <head> 中，defer：腳本會在 HTML 完全解析完後執行，執行順序按照出現順序。 -->
    <!-- 引用自己的css -->
    <link rel="stylesheet" href="./my_css.css">

    <!-- ____________________________________________________________________________________________ -->

    <!--  Bootstrap Icons 是基於字體的圖標庫，因此無法直接設置為 favicon 圖示（因為 favicon 需要圖片文件）  -->
    <link rel="icon" href="./my_image/moon-stars-fill.svg">
    </link>
    <title>認識塔羅TAROT</title>

    <style>
        /* ______________________輪播圖_________________________________ */
        * {
            margin: 0;
            padding: 0;
        }

        /* section {
    overflow: hidden;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-perspective: 1000px;
    perspective: 1000px;
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
    height: 500px;
    touch-action: none;
} */

        #drag-container,
        #spin-container {
            position: relative;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            margin: auto;
            -webkit-transform-style: preserve-3d;
            transform-style: preserve-3d;
            -webkit-transform: rotateX(-10deg);
            transform: rotateX(-10deg);
        }

        #drag-container img,
        #drag-container video {
            -webkit-transform-style: preserve-3d;
            transform-style: preserve-3d;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            line-height: 200px;
            font-size: 50px;
            text-align: center;
            -webkit-box-shadow: 0 0 8px #fff;
            box-shadow: 0 0 8px #fff;
            -webkit-box-reflect: below 10px linear-gradient(transparent, transparent, #0005);
        }

        #drag-container img:hover,
        #drag-container video:hover {
            -webkit-box-shadow: 0 0 15px #fffd;
            box-shadow: 0 0 15px #fffd;
            -webkit-box-reflect: below 10px linear-gradient(transparent, transparent, #0007);
        }

        #drag-container p {
            font-family: Serif;
            position: absolute;
            top: 100%;
            left: 50%;
            -webkit-transform: translate(-50%, -50%) rotateX(90deg);
            transform: translate(-50%, -50%) rotateX(90deg);
            color: #fff;
        }

        #ground {
            width: 800px;
            height: 900px;
            position: absolute;
            top: 100%;
            left: 50%;
            -webkit-transform: translate(-50%, -50%) rotateX(90deg);
            transform: translate(-50%, -50%) rotateX(90deg);
            background: -webkit-radial-gradient(center center,
                    farthest-side,
                    #9993,
                    transparent);
        }

        #music-container {
            position: absolute;
            top: 0;
            left: 0;
        }

        @-webkit-keyframes spin {
            from {
                -webkit-transform: rotateY(0deg);
                transform: rotateY(0deg);
            }

            to {
                -webkit-transform: rotateY(360deg);
                transform: rotateY(360deg);
            }
        }

        @keyframes spin {
            from {
                -webkit-transform: rotateY(0deg);
                transform: rotateY(0deg);
            }

            to {
                -webkit-transform: rotateY(360deg);
                transform: rotateY(360deg);
            }
        }

        @-webkit-keyframes spinRevert {
            from {
                -webkit-transform: rotateY(360deg);
                transform: rotateY(360deg);
            }

            to {
                -webkit-transform: rotateY(0deg);
                transform: rotateY(0deg);
            }
        }

        @keyframes spinRevert {
            from {
                -webkit-transform: rotateY(360deg);
                transform: rotateY(360deg);
            }

            to {
                -webkit-transform: rotateY(0deg);
                transform: rotateY(0deg);
            }
        }
    </style>
</head>
<!-- 導覽列 -->
<div id="navbar"></div>
<script>
    // 使用 fetch 動態加載 navbar.html
    fetch('navbar.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('navbar').innerHTML = data;
        });
</script><br><br><br><br>

<!-- 輪播圖加抽牌 -->
<div class="container" style="width: 100%">
    <section class="m-5" style="height: 100%">
        <div class="text-Dark" style="width: 100%">
            <h1 contenteditable="true" class="text1 effect01 " style="height:10%;text-align: center;">
                線上塔羅學習
                <p contenteditable="true" class="text2 effect02" style="text-align: center;">
                    解讀命運之語，指導心靈之路。
                    無論愛情、事業或未來，讓塔羅為你揭開答案的面紗
                </p>
            </h1>
            <br><br><br><br><br><br>
            <div translate="no" class="py-5">
                <div id="drag-container">
                    <div id="spin-container">
                        <!-- Add your images (or video) here -->
                        <img src="./my_image/大阿卡那(22張)/0愚者.webp" />
                        <img src="./my_image/大阿卡那(22張)/1魔術師.webp" />
                        <img src="./my_image/大阿卡那(22張)/2女祭師.webp" />
                        <img src="./my_image/大阿卡那(22張)/3皇后.webp" />
                        <img src="./my_image/大阿卡那(22張)/4皇帝.webp" />
                        <img src="./my_image/大阿卡那(22張)/5教皇.webp" />
                        <img src="./my_image/大阿卡那(22張)/6戀人.webp" />
                        <img src="./my_image/大阿卡那(22張)/7戰車.webp" />
                        <img src="./my_image/大阿卡那(22張)/8力量.webp" />
                        <img src="./my_image/大阿卡那(22張)/9隱者.webp" />
                        <img src="./my_image/大阿卡那(22張)/10命運之輪.webp" />

                        <!-- Text at center of ground -->
                        <p>TAROT WORLD</p>
                    </div>
                    <div id="ground"></div>
                </div>
                <div id="music-container"></div>

                <script id="rendered-js">
                    // You can change global variables here:
                    var radius = 240; // how big of the radius
                    var autoRotate = true; // auto rotate or not
                    var rotateSpeed = -60; // unit: seconds/360 degrees
                    var imgWidth = 120; // width of images (unit: px)
                    var imgHeight = 170; // height of images (unit: px)

                    // Link of background music - set 'null' if you dont want to play background music
                    var bgMusicURL =
                        "https://api.soundcloud.com/tracks/143041228/stream?client_id=587aa2d384f7333a886010d5f52f302a";
                    var bgMusicControls = true; // Show UI music control

                    // ===================== start =======================
                    // animation start after 1000 miliseconds
                    setTimeout(init, 1000);

                    var odrag = document.getElementById("drag-container");
                    var ospin = document.getElementById("spin-container");
                    var aImg = ospin.getElementsByTagName("img");
                    var aVid = ospin.getElementsByTagName("video");
                    var aEle = [...aImg, ...aVid]; // combine 2 arrays

                    // Size of images
                    ospin.style.width = imgWidth + "px";
                    ospin.style.height = imgHeight + "px";

                    // Size of ground - depend on radius
                    var ground = document.getElementById("ground");
                    ground.style.width = radius * 3 + "px";
                    ground.style.height = radius * 3 + "px";

                    function init(delayTime) {
                        for (var i = 0; i < aEle.length; i++) {
                            aEle[i].style.transform =
                                "rotateY(" +
                                i * (360 / aEle.length) +
                                "deg) translateZ(" +
                                radius +
                                "px)";
                            aEle[i].style.transition = "transform 1s";
                            aEle[i].style.transitionDelay =
                                delayTime || (aEle.length - i) / 4 + "s";
                        }
                    }

                    function applyTranform(obj) {
                        // Constrain the angle of camera (between 0 and 180)
                        if (tY > 180) tY = 180;
                        if (tY < 0) tY = 0;

                        // Apply the angle
                        obj.style.transform =
                            "rotateX(" + -tY + "deg) rotateY(" + tX + "deg)";
                    }

                    function playSpin(yes) {
                        ospin.style.animationPlayState = yes ? "running" : "paused";
                    }

                    var sX,
                        sY,
                        nX,
                        nY,
                        desX = 0,
                        desY = 0,
                        tX = 0,
                        tY = 10;

                    // auto spin
                    if (autoRotate) {
                        var animationName = rotateSpeed > 0 ? "spin" : "spinRevert";
                        ospin.style.animation = `${animationName} ${Math.abs(
                            rotateSpeed
                        )}s infinite linear`;
                    }

                    // add background music
                    if (bgMusicURL) {
                        document.getElementById("music-container").innerHTML += `

`;
                    }

                    // setup events
                    document.onpointerdown = function (e) {
                        clearInterval(odrag.timer);
                        e = e || window.event;
                        var sX = e.clientX,
                            sY = e.clientY;

                        this.onpointermove = function (e) {
                            e = e || window.event;
                            var nX = e.clientX,
                                nY = e.clientY;
                            desX = nX - sX;
                            desY = nY - sY;
                            tX += desX * 0.1;
                            tY += desY * 0.1;
                            applyTranform(odrag);
                            sX = nX;
                            sY = nY;
                        };

                        this.onpointerup = function (e) {
                            odrag.timer = setInterval(function () {
                                desX *= 0.95;
                                desY *= 0.95;
                                tX += desX * 0.1;
                                tY += desY * 0.1;
                                applyTranform(odrag);
                                playSpin(false);
                                if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {
                                    clearInterval(odrag.timer);
                                    playSpin(true);
                                }
                            }, 17);
                            this.onpointermove = this.onpointerup = null;
                        };

                        return false;
                    };

                    document.onmousewheel = function (e) {
                        e = e || window.event;
                        var d = e.wheelDelta / 20 || -e.detail;
                        radius += d;
                        init(1);
                    };
                    //# sourceURL=pen.js
                </script>
            </div>
            <br /><br /><br><br><br>
            <div class="text-center d-block">
                <button id="draw-card-btn" class="button1">
                    抽出今日運勢
                </button>
                <!-- 顯示隨機抽到的塔羅牌 -->
                <div id="tarot-card">
                    <img id="random-card" class="img-fluid" />
                </div>
                <!-- 按鈕：隨機抽牌 -->
            </div>
        </div>
    </section>
</div>
<!-- ________________________向上鍵按鈕____________________________________________ -->
<button id="backToTopBtn" class="ld ld-bounce" style="animation-duration:2.0s" onclick="scrollToTop()"><img
        src="./my_image/totop.png" style="width: 50px;"></button>

<!-- _________________________footer_______________________________________________ -->
<div id="footer"></div>
<script>
    // 使用 fetch 動態加載 navbar.html
    fetch('footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer').innerHTML = data;
        });
</script>

<body>

</body>

</html>